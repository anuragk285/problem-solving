# Maximum average pass ratio

```python
class Solution(object):
    def maxAverageRatio(self, classes, extraStudents):
        """
        :type classes: List[List[int]]
        :type extraStudents: int
        :rtype: float
        """
        heap = []

        def increment(p, t):
            fraction1 = float(p+1)/(t+1)
            fraction2 = float(p)/t
            return fraction1-fraction2

        for i in range(len(classes)):
            p, t = classes[i][0], classes[i][1]
            heapq.heappush(heap, (-increment(p, t), i))

        while extraStudents > 0:
            average, i = heapq.heappop(heap)
            classes[i][0] += 1
            classes[i][1] += 1
            p, t = classes[i][0], classes[i][1]
            heapq.heappush(heap, (-increment(p, t), i))
            extraStudents -= 1
    
        average = 0
        for p, t in classes:
            average += float(p)/t
        return float(average)/len(classes)
```


