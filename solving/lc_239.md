# sliding window maximum

```python
class Solution(object):
    def maxSlidingWindow(self, nums, k):
        """
        :type nums: List[int]
        :type k: int
        :rtype: List[int]
        """
        q = deque()
        l, r = 0, 0
        res = []
        while r<k:
            if not q or q[-1] >= nums[r]:
                q.append(nums[r])
            elif q[-1] < nums[r]:
                while q and q[-1] < nums[r]:
                    q.pop()
                q.append(nums[r])
            r += 1
        res.append(q[0])
        
        while r<len(nums):

            if nums[l] == q[0]:
                q.popleft()
            while q and q[-1] < nums[r]:
                q.pop()
            q.append(nums[r])
            res.append(q[0])
            l, r = l+1, r+1
        
        return res

```
