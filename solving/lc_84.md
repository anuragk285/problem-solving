# Largest Rectangle in histogram

```python
class Solution(object):
    def largestRectangleArea(self, heights):
        """
        :type heights: List[int]
        :rtype: int
        """
        st = [] #[index, height]
        max_area = 0

        for i, height in enumerate(heights):

            if not st or st[-1][1] < height:
                st.append([i, height])
            
            else:
                last_index = -1
                while st and st[-1][1] >= height:
                    last_index = st[-1][0]
                    max_area = max(max_area, (i-st[-1][0])*st[-1][1])
                    st.pop()
                st.append([last_index, height])       
        while st:
            max_area = max(max_area, (len(heights)-st[-1][0])*st[-1][1])
            st.pop()
        return max_area
```
