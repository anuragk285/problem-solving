# Design Twitter

```java
class Tweet{
    static int tweetCounter = 0;
    int tweetId, tweetNo;
    Tweet(int tweetId){
        tweetNo = ++tweetCounter;
        this.tweetId = tweetId;
    }
}
class User{ 
    int Id; 
    ArrayList<Tweet> tweets = new ArrayList<>();
    HashSet<Integer> following = new HashSet<>();
    User(int id){
        Id = id;
    }
    void postTweet(int tweetId){
        tweets.add(new Tweet(tweetId));
    }
    void follow(int id){
        if(id == Id) return;
        following.add(id);
    }
    void unfollow(int id){
        if(following.contains(id)) following.remove(id);
    }
}

class Twitter {
    HashMap<Integer, User> users = new HashMap<>();
    public Twitter() {}
    
    public void postTweet(int userId, int tweetId) {
        users.putIfAbsent(userId, new User(userId));
        users.get(userId).postTweet(tweetId);
    }
    
    public List<Integer> getNewsFeed(int userId) {
        users.putIfAbsent(userId, new User(userId));
        List<Integer> news = new ArrayList<>();
        PriorityQueue<Tweet> surroundingTweets = new PriorityQueue<>((a, b) -> b.tweetNo - a.tweetNo);
        surroundingTweets.addAll(users.get(userId).tweets);
        for(int followeeId : users.get(userId).following){
            surroundingTweets.addAll(users.get(followeeId).tweets);
        }
        while(news.size() < 10 && !surroundingTweets.isEmpty()){
            news.add(surroundingTweets.poll().tweetId);
        }
        return news;
    }
    
    public void follow(int followerId, int followeeId) {
        users.putIfAbsent(followerId, new User(followerId));
        users.putIfAbsent(followeeId, new User(followeeId));
        users.get(followerId).follow(followeeId);
    }
    
    public void unfollow(int followerId, int followeeId) {
        users.get(followerId).unfollow(followeeId);
    }
}

/**
 * Your Twitter object will be instantiated and called as such:
 * Twitter obj = new Twitter();
 * obj.postTweet(userId,tweetId);
 * List<Integer> param_2 = obj.getNewsFeed(userId);
 * obj.follow(followerId,followeeId);
 * obj.unfollow(followerId,followeeId);
 */
```
