# Coupon Code Validator

```java
class Solution {
    ArrayList<String> validBusinessLine = new ArrayList<>(
        Arrays.asList("electronics", "grocery", "pharmacy", "restaurant")
    );
    public List<String> validateCoupons(String[] code, String[] businessLine, boolean[] isActive) {
        List<Integer> ansIndices = new ArrayList<>();
        for(int i=0; i<code.length; i++){
            if(isValidCode(code[i]) && 
               isValidBussinessLine(businessLine[i]) && 
               isActive[i]){
                ansIndices.add(i);
            }
        }
        ansIndices.sort((a, b) -> {
            int indexA = validBusinessLine.indexOf(businessLine[a]);
            int indexB = validBusinessLine.indexOf(businessLine[b]);
            if(indexA != indexB) return Integer.compare(indexA, indexB);
            return code[a].compareTo(code[b]);
        });
        List<String> ans = new ArrayList<>();
        for(int i : ansIndices) ans.add(code[i]);
        return ans;
    }
    private boolean isValidCode(String code){
        if(code.length() == 0) return false;
        for(char c : code.toCharArray()){
            if(!(('a' <= c && c <= 'z') ||
                 ('A' <= c && c <= 'Z') || 
                (c == '_') || ('0' <= c && c <= '9'))) return false;
        }
        return true;
    }
    private boolean isValidBussinessLine(String line){
        if(validBusinessLine.contains(line)) return true;
        return false;
    }
}
```
