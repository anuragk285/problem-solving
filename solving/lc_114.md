# flatten binary tree to linked list

```python
# Definition for a binary tree node.
# class TreeNode(object):
#     def __init__(self, val=0, left=None, right=None):
#         self.val = val
#         self.left = left
#         self.right = right
class Solution(object):
    def flatten(self, root):
        """
        :type root: Optional[TreeNode]
        :rtype: None Do not return anything, modify root in-place instead.
        """
        if not root: return None
        self.pre_order = []
        def make_pre_order(node):
            if not node : return
            p = node
            st = []
            while p or st:
                if p:
                    st.append(p)
                    self.pre_order.append(p)
                    p =p.left
                else:
                    p = st.pop()
                    p = p.right
        make_pre_order(root)
        for i, p in enumerate(self.pre_order):
            if i<len(self.pre_order)-1:
                p.left = None
                p.right = self.pre_order[i+1]
        self.pre_order[-1].left =None
        self.pre_order[-1].right = None
        return self.pre_order[0]
```
