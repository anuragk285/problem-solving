# Max Points on a line

```java
class Solution {
    public int maxPoints(int[][] points) {
        if(points.length <= 1) return 1;
        int ans =0;
        for(int i=0; i<points.length; i++){
            HashMap<String, Integer> map = new HashMap<>();
            int max = 0;
            for(int j=i+1; j<points.length; j++){
                int dy = points[i][1] - points[j][1];
                int dx = points[i][0] - points[j][0];
                int samePoints = 0;
                if(dx == 0 && dy == 0){ // same points
                    samePoints++;
                    continue;
                }
                int g = gcd(dx, dy);
                dx = dx / g;
                dy = dy / g; // reducing into simpler fraction
                String frac = dy + "/" + dx;
                map.put(frac, map.getOrDefault(frac, 0) + 1);
                max = Math.max(max, map.get(frac) + samePoints + 1);
            }
            ans = Math.max(ans, max);
        }
        return ans;
    }
    private int gcd(int a, int b){
        if(b == 0) return a;
        return gcd(b, a%b);
    }
}
```
