# Swim in rising water

```python
class Solution(object):
    def swimInWater(self, grid):
        """
        :type grid: List[List[int]]
        :rtype: int
        """
        visited = set()
        heap = []
        heappush(heap, (grid[0][0], 0, 0))
        ans = float("inf")
        n = len(grid)
        while heap:
            time, r, c = heappop(heap)
            if r<0 or c<0 or r==n or c==n or (r, c) in visited:
                continue
            visited.add((r, c))
            t = max(time, grid[r][c])
            if r==n-1 and c==n-1:
                ans = min(ans, t)
            for i, j in [[r+1, c], [r-1, c], [r, c+1], [r, c-1]]:
                heappush(heap, (t, i, j))

        return ans
```
