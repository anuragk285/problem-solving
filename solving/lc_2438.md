# Range product queries of powers

```python
class Solution(object):
    def productQueries(self, n, queries):
        """
        :type n: int
        :type queries: List[List[int]]
        :rtype: List[int]
        """
        binary = "" 
        temp = n
        MOD = (10**9) + 7
        while temp > 0:
            binary += str(temp%2)
            temp //= 2

        powers = []
        i = 1
        for j in range(len(binary)):
            if binary[j] == '1':
                powers.append(i)
            i *= 2
        
        answers = []
        for q in queries:
            product = 1
            for j in range(q[0], q[1]+1):
                product *= powers[j]
            if product > MOD: product = product%MOD
            answers.append(product)
        
        return answers
```
