# Maximum Side Length of a Square with Sum Less than or Equal to Threshold

```java
class Solution {
    int threshold = 0, rows = 0, cols = 0;
    int[][] grid;
    public int maxSideLength(int[][] mat, int threshold) {
        this.threshold = threshold;
        this.grid = mat;
        rows = mat.length;
        cols = mat[0].length;
        int ans = 0;
        for(int i=0; i<rows; i++){
            for(int j=0; j<cols; j++){
                ans = Math.max(ans, maxSquareSide(i, j));
            }
        }
        return ans;
    }
    private int maxSquareSide(int r, int c){
        int maxSideLength = 0;
        //sl -> side length 
        int sl = 0, sum = 0;
        while(isValid(r+sl, c+sl) && sum <= threshold){
            // adding row elements
            for(int j=c; j<=c+sl; j++) sum += grid[r+sl][j];

            // adding column elements
            for(int i=r; i<=r+sl; i++) sum += grid[i][c+sl];

            //removing extra right corner element
            sum -= grid[r+sl][c+sl];

            if(sum <= threshold) maxSideLength = sl+1;
            sl++;
        }
        return maxSideLength;
    }
    private boolean isValid(int r, int c){
        if(r < 0 || r >= rows || c < 0 || c >= cols) return false;
        return true;
    }
}
```
